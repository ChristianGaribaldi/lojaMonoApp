<div class="container-fluid">
  <div class="row">
    <div class="col-md-8 col-md-offset-2">
      <div class="page-header">
        <h3><strong>Efetuar Venda</strong></h3>
      </div>

      <% if @produtos.length > 0 && @clientes > 0 %>
          <%= form_for(@venda) do |f| %>
              <% if @venda.errors.any? %>
                  <div id="error_explanation">
                    <h2><%= pluralize(@venda.errors.count, "error") %> impedem o salvamento desse cadastro:</h2>
                    <ul>
                      <% @venda.errors.full_messages.each do |message| %>
                          <li><%= message %></li>
                      <% end %>
                    </ul>
                  </div>
              <% end %>

              <div class="form-group">
                <%= f.label :produto_id, "Produtos Disponíveis" %><br>
                <%= f.select("produto_id", options_from_collection_for_select(@produtos, 'id', 'descricao_produto_venda'), { include_blank: true }, class: "form-control",  required: true)%>
              </div>

              <div class="form-group">
                <%= f.label :cliente_id %><br>
                <%= f.select("cliente_id", options_from_collection_for_select(@clientes, 'id', 'nome'), { include_blank: true }, class: "form-control",  required: true)%>
              </div>

              <div class="form-group">
                <%= f.label :quantidade %><br>
                <%= f.number_field :quantidade, min: 0, class: "form-control", placeholder: "0", required: true %>
              </div>

              <%= f.label :valorVenda %><br>
              <%= f.number_field :valorVenda, min: 0, class: "form-control", placeholder: "0", required: true %>

              <%= f.submit "Salvar", class: "btn btn-primary btn-block" %>
          <% end %>
      <% else %>
          <div class="alert alert-info" role="alert">Ainda não há Clientes/Produtos cadastrados para realizar uma Venda!</div>
      <% end %>

    </div>
  </div>
</div>




